### 基于chrome远程调试协议的调试工具，可用于修改网站代码来测试效果

使用说明：
1. 安装依赖包 `npm install`
2. 运行 `node .`
3. 访问网页时本程序会把加载到的Script和Document类型的文件会写入到data下
4. 修改对应的文件，然后刷新页面看效果

为了查找方便，data文件夹下以网站域名区分文件夹，同一个域名下的文件都会被放在一起。文件命名规则是 `md5(完整请求路径).substr(0, 8)+'_'+文件名`。

例如 http://baidu.com/aa/bb/cc.js 会被写入到 data/baidu.com/xxxxx_cc.js，修改这个文件的内容之后刷新页面，即可生效。

### 背景

作为前端开发，最脑壳疼的问题就是~~破解别人的前端代码和~~定位脚本错误了。除了极少数非常老没人维护的项目，大部分现代项目的线上前端代码都会经过压缩和混淆，这使得调试者仅通过浏览器的代码堆栈定位和格式化功能来查找目标很不方便。我觉得如果能够直接修改网站源代码，然后刷新页面看到修改的效果，那么调试过程就会轻松很多了。

于是我谷歌到了一篇文章 [如何通过Devtools协议拦截和修改Chrome响应数据](https://www.anquanke.com/post/id/160160)，按照文中的代码实现了拦截请求和修改数据的功能。为了更方便的使用，我加上了读写文件的逻辑，让调试者能直接修改源代码，并且实时生效。

目前虽然在处理gbk编码的页面上还存在乱码的问题，不过以后会解决的。

希望这个工具能帮到大家吧。